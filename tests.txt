===============================================
 PUT SECOND KEY
===============================================

|      LRU MRU [K]   [L]    |       NXT       |
|       v   v   v     v     |        v        |
|         ,---.       0     |      ,---.      |
|    0 <- |H1 | -> 0        | 0 <- | 2 | -> 0 |
|         `---'             |      `---'      |
|          `-^              |                 |

-----------------------------------------------

|     LRU [K]   MRU [L]     |       NXT       |
|      v   v     v   v      |        v        |
|      ,---.     ,---.      |        ?        |
| 0 <- |H1 | <=> |H2 | -> 0 |                 |
|      `---'     `---'      |                 |
|       `-^       `-^       |                 |

===============================================

===============================================
 APPEND FIRST KEY
===============================================

|        LRU MRU [K]        |       NXT       |
|         v   v   v         |        v        |
|           ,---.           |      ,---.      |
|      0 <- |H1 | -> 0      | 0 <- | 2 | -> 0 |
|           `---'           |      `---'      |
|            `-^            |                 |

-----------------------------------------------

|   LRU MRU [K]             |       NXT       |
|    v   v   v              |        v        |
|      ,---.     ,---.      |        ?        |
| 0 <- |H1 | <=> | 2 | -> 0 |                 |
|      `---'     `---'      |                 |
|        `---------^        |                 |

===============================================

===============================================
 REPLACE FIRST KEY
===============================================

|        LRU MRU [K]        |       NXT       |
|         v   v   v         |        v        |
|           ,---.           |      ,---.      |
|      0 <- |H1 | -> 0      | 0 <- | 2 | -> 0 |
|           `---'           |      `---'      |
|            `-^            |                 |

-----------------------------------------------

|       LRU     MRU [K]     |       NXT       |
|        v       v   v      |        v        |
|      ,---.     ,---.      |        ?        |
| 0 <- | 1 | <=> |H2 | -> 0 |                 |
|      `---'     `---'      |                 |
|                 `-^       |                 |

===============================================

=====================================
 PUT NXT: LRU == 0, MRU == 0, [K] == 0
=====================================

|   LRU MRU [K]   |       NXT       |
|    v   v   v    |        v        |
|    0   0   0    |      ,---.      |
|                 | 0 <- | 1 | -> 0 |
|                 |      `---'      |

-------------------------------------

|   LRU MRU [K]   |       NXT       |
|    v   v   v    |        v        |
|      ,---.      |        ?        |
| 0 <- |H1 | -> 0 |                 |
|      `---'      |                 |
|       `-^       |                 |

=====================================

==========================================================
 PUT NXT: LRU != 0, MRU != 0, [K] == 0
==========================================================

|    LRU        MRU             [K]    |       NXT       |
|     v          v               v     |        v        |
|     ?        ,---.             0     |      ,---.      |
|        ? <=> |H1 | <=> ? -> 0        | 0 <- | 2 | -> 0 |
|              `---'                   |      `---'      |
|                `-------^             |                 |

----------------------------------------------------------

| LRU                      MRU [K]     |       NXT       |
|  v                        v   v      |        v        |
|  ?        ,---.           ,---.      |        ?        |
|     ? <=> |H1 | <=> ? <=> |H2 | -> 0 |                 |
|           `---'           `---'      |                 |
|             `-------^      `-^       |                 |

==========================================================

=====================================================================
 PUT NXT: LRU != 0, MRU != 0, [K] == LRU, LRU != MRU
=====================================================================

|          LRU [K]           MRU                  |       NXT       |
|           v   v             v                   |        v        |
|           ,---.           ,---.                 |      ,---.      |
|      0 <- |H1 | <=> ? <=> |H2 | <=> ? -> 0      | 0 <- | 3 | -> 0 |
|           `---'           `---'                 |      `---'      |
|             `-------^       `-------^           |                 |

---------------------------------------------------------------------

|       LRU                           MRU [K]     |       NXT       |
|        v                             v   v      |        v        |
|      ,---.           ,---.           ,---.      |        ?        |
| 0 <- | 1 | <=> ? <=> |H2 | <=> ? <=> | 3 | -> 0 |                 |
|      `---'           `---'           `---'      |                 |
|                        `-------^      `-^       |                 |

=====================================================================

=====================================================================
 PUT NXT: LRU != 0, MRU != 0, [K] == MRU, LRU != MRU
=====================================================================

|            LRU           MRU [K]                |       NXT       |
|             v             v   v                 |        v        |
|           ,---.           ,---.                 |      ,---.      |
|      0 <- |?1 | <=> ? <=> |H2 | <=> ? -> 0      | 0 <- | 3 | -> 0 |
|           `---'           `---'                 |      `---'      |
|             `-> ?           `-------^           |                 |

---------------------------------------------------------------------

|       LRU                           MRU [K]     |       NXT       |
|        v                             v   v      |        v        |
|      ,---.           ,---.           ,---.      |        ?        |
| 0 <- | 2 | <=> ? <=> |?1 | <=> ? <=> |H3 | -> 0 |                 |
|      `---'           `---'           `---'      |                 |
|                        `-> ?          `-^       |                 |

=====================================================================

=====================================================================================
 PUT NXT: LRU != 0, MRU != 0, [K] != 0, LRU != [K], MRU != [K], LRU != MRU
=====================================================================================

|            LRU             [K]             MRU                  |       NXT       |
|             v               v               v                   |        v        |
|           ,---.           ,---.           ,---.                 |      ,---.      |
|      0 <- |?1 | <=> ? <=> |H2 | <=> ? <=> |H3 | <=> ? -> 0      | 0 <- | 4 | -> 0 |
|           `---'           `---'           `---'                 |      `---'      |
|             `-> ?           `-------^       `-------^           |                 |

-------------------------------------------------------------------------------------

|       LRU                                           MRU [K]     |       NXT       |
|        v                                             v   v      |        v        |
|      ,---.           ,---.           ,---.           ,---.      |        ?        |
| 0 <- | 2 | <=> ? <=> |?1 | <=> ? <=> |H3 | <=> ? <=> |H4 | -> 0 |                 |
|      `---'           `---'           `---'           `---'      |                 |
|                        `-> ?           `-------^      `-^       |                 |

=====================================================================================

=====================================================================
 APPEND NXT: LRU != 0, MRU != 0, [K] == LRU, LRU != MRU
=====================================================================

|          LRU [K]                           MRU                  |       NXT       |
|           v   v                             v                   |        v        |
|           ,---.           ,---.           ,---.                 |      ,---.      |
|      0 <- |H1 | <=> ? <=> |?2 | <=> ? <=> |H3 | <=> ? -> 0      | 0 <- | 4 | -> 0 |
|           `---'           `---'           `---'                 |      `---'      |
|             `-------^       `-> ?           `-------^           |                 |

---------------------------------------------------------------------

|       LRU           MRU [K]                     |       NXT       |
|        v             v   v                      |        v        |
|      ,---.           ,---.           ,---.      |      ,---.      |
| 0 <- |H2 | <=> ? <=> |H1 | <=> ? <=> | 3 | -> 0 | 0 <- | 3 | -> 0 |
|      `---'           `---'           `---'      |      `---'      |
|        `-------^       `---------------^        |                 |

=====================================================================

==========================================================
 APPEND NXT: LRU != 0, MRU != 0, [K] == MRU, LRU != MRU
==========================================================

|      LRU      MRU [K]                |       NXT       |
|       v        v   v                 |        v        |
|       ?        ,---.                 |      ,---.      |
|          ? <=> |H1 | <=> ? -> 0      | 0 <- | 2 | -> 0 |
|                `---'                 |      `---'      |
|                  `-------^           |                 |

----------------------------------------------------------

| LRU      MRU [K]                     |       NXT       |
|  v        v   v                      |        v        |
|  ?        ,---.           ,---.      |        ?        |
|     ? <=> |H1 | <=> ? <=> | 2 | -> 0 |                 |
|           `---'           `---'      |                 |
|             `---------------^        |                 |

==========================================================

==========================================================================
 APPEND NXT: LRU != 0, MRU != 0, [K] != 0, LRU != [K], MRU != [K], LRU != MRU
==========================================================================

|      LRU        [K]             MRU                  |       NXT       |
|       v          v               v                   |        v        |
|       ?        ,---.           ,---.                 |      ,---.      |
|          ? <=> |H1 | <=> ? <=> |H2 | <=> ? -> 0      | 0 <- | 3 | -> 0 |
|                `---'           `---'                 |      `---'      |
|                  `-------^       `-------^           |                 |

--------------------------------------------------------------------------

| LRU                      MRU [K]                     |       NXT       |
|  v                        v   v                      |        v        |
|  ?        ,---.           ,---.           ,---.      |        ?        |
|     ? <=> |H2 | <=> ? <=> |H1 | <=> ? <=> | 3 | -> 0 |                 |
|           `---'           `---'           `---'      |                 |
|             `-------^       `---------------^        |                 |

==========================================================================
